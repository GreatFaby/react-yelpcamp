{"version":3,"sources":["containers/Login/Login.css","containers/Login/Login.js"],"names":["module","exports","Login","props","handleUsernameChange","event","setState","username","target","value","handlePasswordChange","password","handleSubmit","preventDefault","data","state","axios","post","then","response","console","log","sessionStorage","setItem","localStorage","token","redirect","catch","error","this","to","getItem","className","classes","onSubmit","type","placeholder","onChange","Component"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,MAAQ,wB,6ICIpBC,E,YACJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KASRC,qBAAuB,SAAAC,GACrB,EAAKC,SAAS,CACZC,SAAUF,EAAMG,OAAOC,SAZR,EAgBnBC,qBAAuB,SAAAL,GACrB,EAAKC,SAAS,CACZK,SAAUN,EAAMG,OAAOC,SAlBR,EAsBnBG,aAAe,SAAAP,GACbA,EAAMQ,iBACN,IAAMC,EAAO,CACXP,SAAU,EAAKQ,MAAMR,SACrBI,SAAU,EAAKI,MAAMJ,UAEvBK,IACGC,KAAK,oCAAqCH,GAC1CI,KAAK,SAAAC,GACJC,QAAQC,IAAIF,GACRA,EAASL,MACXQ,eAAeC,QAAQ,OAAQJ,GAC/BK,aAAaD,QAAQ,QAASJ,EAASL,KAAKW,OAC5C,EAAKnB,SAAS,CAAEoB,UAAU,KAE1BN,QAAQC,IAAI,iBAGfM,MAAM,SAAAC,GACLR,QAAQC,IAAIO,EAAMT,aAtCtB,EAAKJ,MAAQ,CACXR,SAAU,GACVI,SAAU,GACVe,UAAU,GANK,E,sEA8CjB,OAAIG,KAAKd,MAAMW,SACN,kBAAC,IAAD,CAAUI,GAAI,iBAGnBR,eAAeS,QAAQ,QAClB,kBAAC,IAAD,CAAUD,GAAI,iBAIrB,yBAAKE,UAAWC,IAAQ/B,OACtB,qCACA,0BAAMgC,SAAUL,KAAKjB,cACnB,yBAAKoB,UAAU,cACb,2BACEA,UAAU,aACVG,KAAK,OACLC,YAAY,WACZ3B,MAAOoB,KAAKd,MAAMR,SAClB8B,SAAUR,KAAKzB,wBAGnB,yBAAK4B,UAAU,cACb,2BACEA,UAAU,aACVG,KAAK,WACLC,YAAY,WACZ3B,MAAOoB,KAAKd,MAAMJ,SAClB0B,SAAUR,KAAKnB,wBAGnB,4BAAQsB,UAAU,kBAAkBG,KAAK,UAAzC,gB,GA7EUG,aAsFLpC","file":"static/js/4.e3835ae7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login__Login__2APGH\"};","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport classes from './Login.css';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n      redirect: false,\n    };\n  }\n\n  handleUsernameChange = event => {\n    this.setState({\n      username: event.target.value,\n    });\n  };\n\n  handlePasswordChange = event => {\n    this.setState({\n      password: event.target.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const data = {\n      username: this.state.username,\n      password: this.state.password,\n    };\n    axios\n      .post('http://localhost:4000/users/login', data)\n      .then(response => {\n        console.log(response);\n        if (response.data) {\n          sessionStorage.setItem('data', response);\n          localStorage.setItem('token', response.data.token);\n          this.setState({ redirect: true });\n        } else {\n          console.log('Login Error');\n        }\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n  };\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    if (sessionStorage.getItem('data')) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    return (\n      <div className={classes.Login}>\n        <h2>Login</h2>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <input\n              className=\"form-group\"\n              type=\"text\"\n              placeholder=\"username\"\n              value={this.state.username}\n              onChange={this.handleUsernameChange}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              className=\"form-group\"\n              type=\"password\"\n              placeholder=\"password\"\n              value={this.state.password}\n              onChange={this.handlePasswordChange}\n            />\n          </div>\n          <button className=\"btn btn-primary\" type=\"submit\">\n            Submit\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"],"sourceRoot":""}