{"version":3,"sources":["containers/Register/Register.css","containers/Register/Register.js"],"names":["module","exports","Register","props","handleUsernameChange","event","setState","username","target","value","handlePasswordChange","password","handleSubmit","preventDefault","data","state","axios","post","then","response","localStorage","setItem","token","redirect","console","log","catch","error","this","to","sessionStorage","getItem","className","classes","onSubmit","type","placeholder","onChange","Component"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,SAAW,8B,6ICKvBC,E,YACJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KASRC,qBAAuB,SAAAC,GACrB,EAAKC,SAAS,CACZC,SAAUF,EAAMG,OAAOC,SAZR,EAgBnBC,qBAAuB,SAAAL,GACrB,EAAKC,SAAS,CACZK,SAAUN,EAAMG,OAAOC,SAlBR,EAsBnBG,aAAe,SAAAP,GACbA,EAAMQ,iBACN,IAAMC,EAAO,CACXP,SAAU,EAAKQ,MAAMR,SACrBI,SAAU,EAAKI,MAAMJ,UAEvBK,IACGC,KAAK,8BAA+BH,GACpCI,KAAK,SAAAC,GACAA,EAASL,MAEXM,aAAaC,QAAQ,QAASF,EAASL,KAAKQ,OAC5C,EAAKhB,SAAS,CAAEiB,UAAU,KAE1BC,QAAQC,IAAI,iBAGfC,MAAM,SAAAC,GACLH,QAAQC,IAAIE,EAAMR,aArCtB,EAAKJ,MAAQ,CACXR,SAAU,GACVI,SAAU,GACVY,UAAU,GANK,E,sEA6CjB,OAAIK,KAAKb,MAAMQ,SACN,kBAAC,IAAD,CAAUM,GAAI,iBAGnBC,eAAeC,QAAQ,QAClB,kBAAC,IAAD,CAAUF,GAAI,iBAIrB,yBAAKG,UAAWC,IAAQ/B,UACtB,wCACA,0BAAMgC,SAAUN,KAAKhB,cACnB,6BACE,2BACEuB,KAAK,OACLC,YAAY,WACZ3B,MAAOmB,KAAKb,MAAMR,SAClB8B,SAAUT,KAAKxB,wBAGnB,6BACE,2BACE+B,KAAK,WACLC,YAAY,WACZ3B,MAAOmB,KAAKb,MAAMJ,SAClB0B,SAAUT,KAAKlB,wBAGnB,4BAAQyB,KAAK,UAAb,gB,GA1EaG,aAiFRpC","file":"static/js/5.2527abfa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Register\":\"Register__Register__2YmeK\"};","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nimport classes from './Register.css';\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n      redirect: false,\n    };\n  }\n\n  handleUsernameChange = event => {\n    this.setState({\n      username: event.target.value,\n    });\n  };\n\n  handlePasswordChange = event => {\n    this.setState({\n      password: event.target.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const data = {\n      username: this.state.username,\n      password: this.state.password,\n    };\n    axios\n      .post('http://localhost:4000/users', data)\n      .then(response => {\n        if (response.data) {\n          // sessionStorage.setItem('data', response);\n          localStorage.setItem('token', response.data.token);\n          this.setState({ redirect: true });\n        } else {\n          console.log('Login Error');\n        }\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n  };\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    if (sessionStorage.getItem('data')) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    return (\n      <div className={classes.Register}>\n        <h2>Register</h2>\n        <form onSubmit={this.handleSubmit}>\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"username\"\n              value={this.state.username}\n              onChange={this.handleUsernameChange}\n            />\n          </div>\n          <div>\n            <input\n              type=\"password\"\n              placeholder=\"password\"\n              value={this.state.password}\n              onChange={this.handlePasswordChange}\n            />\n          </div>\n          <button type=\"submit\">Submit</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Register;\n"],"sourceRoot":""}