{"version":3,"sources":["components/Campgrounds/Show/Table/Table.js","components/Campgrounds/Show/Show.js"],"names":["Table","props","delete","bind","state","redirect","token","localStorage","getItem","axios","this","obj","_id","headers","Authorization","then","response","setState","catch","err","console","log","to","className","style","width","alt","src","image","price","name","description","marginRight","onClick","Component","Show","campground","user","authUser","JSON","parse","get","match","params","id","data","error","userId","key","tabRow"],"mappings":"kNA4EeA,E,YAtEb,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,OAAS,EAAKA,OAAOC,KAAZ,gBAEd,EAAKC,MAAQ,CACXC,UAAU,GALK,E,sEAQT,IAAD,OACDC,EAAQC,aAAaC,QAAQ,SAEnCC,IACGP,OAAO,qCAAuCQ,KAAKT,MAAMU,IAAIC,IAAK,CACjEC,QAAS,CACPC,cAAc,UAAD,OAAYR,MAG5BS,KAAK,SAAAC,GACJ,EAAKC,SAAS,CAAEZ,UAAU,MAG3Ba,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,+BAI5B,OAAIT,KAAKN,MAAMC,SACN,kBAAC,IAAD,CAAUiB,GAAI,iBAIrB,6BACE,yBAAKC,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,aACb,yBACEC,MAAO,CAAEC,MAAO,QAChBC,IAAI,GACJH,UAAU,iBACVI,IAAKjB,KAAKT,MAAMU,IAAIiB,QAEtB,yBAAKL,UAAU,gBACb,wBAAIA,UAAU,cAAd,SAA6Bb,KAAKT,MAAMU,IAAIkB,MAA5C,WACA,wBAAIN,UAAU,eAAeb,KAAKT,MAAMU,IAAImB,MAC5C,uBAAGP,UAAU,sBACVb,KAAKT,MAAMU,IAAIoB,aAIlB,2BACE,kBAAC,IAAD,CACEP,MAAO,CAAEQ,YAAa,QACtBV,GAAI,gBAAkBZ,KAAKT,MAAMU,IAAIC,IAAM,QAC3CW,UAAU,mBAHZ,QAOA,4BAAQU,QAASvB,KAAKR,OAAQqB,UAAU,kBAAxC,oB,GAzDEW,aCDdC,E,YACJ,WAAYlC,GAAQ,IAAD,8BACjB,4CAAMA,KAEDG,MAAQ,CACXgC,WAAY,KACZC,KAAM,IALS,E,iFASE,IAAD,OACZC,EAAWC,KAAKC,MAAMjC,aAAaC,QAAQ,SACjDE,KAAKO,SAAS,CAAEoB,KAAMC,IAEtB7B,IACGgC,IAAI,qCAAuC/B,KAAKT,MAAMyC,MAAMC,OAAOC,IACnE7B,KAAK,SAAAC,GACJ,EAAKC,SAAS,CAAEmB,WAAYpB,EAAS6B,SAEtC3B,MAAM,SAAS4B,GACd1B,QAAQC,IAAIyB,O,+BAIR,IAAD,EACsBpC,KAAKN,MAA1BgC,EADD,EACCA,WAAYC,EADb,EACaA,KACpB,OACED,GACE,kBAAC,EAAD,CACEzB,IAAKyB,EACLW,OAAQV,GAAQA,EAAKzB,IACrBoC,IAAKZ,EAAWxB,Q,+BAOtB,OAAO,yBAAKW,UAAU,aAAab,KAAKuC,c,GAtCzBf,aA0CJC","file":"static/js/6.c0e569cd.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\n// import classes from './Table.css';\nimport axios from 'axios';\n\nclass Table extends Component {\n  constructor(props) {\n    super(props);\n    this.delete = this.delete.bind(this);\n\n    this.state = {\n      redirect: false,\n    };\n  }\n  delete() {\n    const token = localStorage.getItem('token');\n\n    axios\n      .delete('http://localhost:4000/campgrounds/' + this.props.obj._id, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then(response => {\n        this.setState({ redirect: true });\n      })\n      // .then(console.log('Deleted'))\n      .catch(err => console.log(err));\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={'/campgrounds'} />;\n    }\n\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"col-md-9\">\n            <div className=\"thumbnail\">\n              <img\n                style={{ width: '100%' }}\n                alt=\"\"\n                className=\"img-responsive\"\n                src={this.props.obj.image}\n              />\n              <div className=\"caption-full\">\n                <h5 className=\"pull-right\">â‚¦{this.props.obj.price} /Night</h5>\n                <h3 className=\"font-italic\">{this.props.obj.name}</h3>\n                <p className=\"font-weight-bolder\">\n                  {this.props.obj.description}\n                </p>\n\n                {/* {this.props.userId === this.props.obj.owner && ( */}\n                <p>\n                  <Link\n                    style={{ marginRight: '10px' }}\n                    to={'/campgrounds/' + this.props.obj._id + '/edit'}\n                    className=\"btn btn-primary\"\n                  >\n                    Edit\n                  </Link>\n                  <button onClick={this.delete} className=\"btn btn-danger\">\n                    Delete\n                  </button>\n                </p>\n                {/* )} */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Table;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Table from './Table/Table';\n\nclass Show extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      campground: null,\n      user: '',\n    };\n  }\n\n  componentDidMount() {\n    const authUser = JSON.parse(localStorage.getItem('user'));\n    this.setState({ user: authUser });\n\n    axios\n      .get('http://localhost:4000/campgrounds/' + this.props.match.params.id)\n      .then(response => {\n        this.setState({ campground: response.data });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  }\n\n  tabRow() {\n    const { campground, user } = this.state;\n    return (\n      campground && (\n        <Table\n          obj={campground}\n          userId={user && user._id}\n          key={campground._id}\n        />\n      )\n    );\n  }\n\n  render() {\n    return <div className=\"container\">{this.tabRow()}</div>;\n  }\n}\n\nexport default Show;\n"],"sourceRoot":""}